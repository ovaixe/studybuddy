{% load static %}

<div class="flex flex-col gap-3 items-start">
  {% for room in rooms %}
  <div
    class="w-full flex flex-col gap-3 items-start px-5 py-2 bg-slate-700 rounded-lg"
  >
    {% if request.user == room.host %}
    <div class="flex flex-row gap-3 place-self-end">
      <a
        class="text-xs text-sky-200 font-bold underline"
        href="{% url 'update-room' room.id %}"
        >Edit Room</a
      >
      <a
        class="text-xs text-sky-200 font-bold underline"
        href="{% url 'delete-room' room.id %}"
        >Delete Room</a
      >
    </div>
    {% endif %}

    <div class="w-full flex flex-row items-center justify-between">
      <a href="{% url 'user-profile' room.host.id %}" class="flex flex-row items-center gap-2">
        <img src="{% static 'images/owais.jpeg' %}" class="w-10 h-10 rounded-full object-cover border-2 border-sky-400" />
        <p  class="text-sky-400"
          >@{{room.host.username}}</p
        >
      </a>
      <p class="text-sm text-slate-400">{{room.created|timesince}} ago</p>
    </div>

    <h5>
      <a
        class="text-lg text-slate-300 font-bold hover:text-sky-400"
        href="{% url 'room' room.id %}"
        >{{room.name}}</a
      >
    </h5>

    <hr class="w-full border-slate-600" />

    <div class="w-full flex flex-row items-center justify-between">
      <div>
        <p class="text-sm font-bold text-slate-400">{{room.participants.all.count}} Joined</p>
      </div>
      <span class="text-sm bg-slate-600 px-3 py-1 rounded-full"
        >{{room.topic.name}}</span
      >
    </div>
  </div>
  {% endfor%}
</div>
